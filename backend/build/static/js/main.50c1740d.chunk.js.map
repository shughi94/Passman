{"version":3,"sources":["withAuth.jsx","Home.jsx","Login.jsx","Add.jsx","App.js","index.js"],"names":["withAuth","ComponentToProtect","state","loading","redirect","fetch","then","res","status","Error","error","setState","catch","err","console","this","to","props","Component","Home","cardClicked","id","log","credentials","forEach","element","selected","message","history","useHistory","Button","className","type","onClick","method","headers","push","response","json","data","Card","border","bg","Header","title","Body","Text","website","description","username","password","event","elementId","preventDefault","window","location","reload","fclick","onclick","listItems","map","cred","key","bind","style","cursor","addCredential","LogoutButton","DisplayCredentials","DisplaySelected","Login","handleInputChange","target","value","name","onSubmit","body","JSON","stringify","alert","htmlFor","placeholder","onChange","required","Add","BackButton","App","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.50c1740d.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nexport default function withAuth(ComponentToProtect) {\n  return class extends Component {\n    constructor() {\n      super();\n      this.state = {\n        loading: true,\n        redirect: false,\n      };\n    }\n\n    componentDidMount() {\n      fetch('/checkToken')\n        .then(res => {\n          if (res.status === 200) {\n            this.setState({ loading: false });\n          } else {\n            const error = new Error(res.error);\n            throw error;\n          }\n        })\n        .catch(err => {\n          console.error(err);\n          this.setState({ loading: false, redirect: true });\n        });\n    }\n\n\n    render() {\n      const { loading, redirect } = this.state;\n      if (loading) {\n        return null;\n      }\n      if (redirect) {\n        return <Redirect to=\"/login\" />;\n      }\n      return <ComponentToProtect {...this.props} />;\n    }\n  }\n}","import React, { Component } from 'react';\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport { useHistory } from \"react-router-dom\";\nimport {FaPlus} from \"react-icons/fa\";\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      message: '',\n      credentials: [],\n      selected: null\n    }\n  }\n\n  LogoutButton() {\n    const history = useHistory();\n  \n    function logoutClick() {\n      fetch('/logout',{\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json'\n        }\n      }).then(() => {\n        history.push(\"/login\");\n      })\n    }\n  \n    return (\n      <Button className=\"userActionButton\" type=\"button\" onClick={logoutClick}>\n        Logout\n      </Button>\n    );\n  }\n\n  addCredential() {\n\n    const history = useHistory();\n\n    function addCredClick() {\n      history.push(\"/add-credential\");\n    }\n   \n    return (\n      <Button className=\"userActionButton\" type=\"button\" onClick={addCredClick}>\n        Add Credential  &nbsp; &nbsp;<FaPlus />\n      </Button>\n    );\n  }\n  \n  componentDidMount() {\n    fetch('/credentials',{\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json'\n      }\n      })\n      .then(response => response.json())\n      .then(data => {\n        this.setState(data);\n      });\n  }\n\n  cardClicked = (id) => {\n    console.log('clicked card: '+id);\n\n    this.state.credentials.forEach(element => {\n      if(element.id == id){\n        this.setState({selected: element});\n      }\n    });\n  }\n\n  DisplaySelected(props) {\n\n    let element = props.selected;\n\n    function deleteCredential(elementId) {\n\n      console.log(elementId);\n      fetch('/credentials/' + elementId, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })\n      .then(res => {\n        if (res.status === 200) {\n          window.location.reload(true);\n        } else {\n         return;\n        }\n      });\n    }\n\n    if (element == null){\n      return (<div>No credential is selected</div>);\n    }\n    else {\n      return (\n      <div>\n        <Card border=\"primary\" bg=\"light\" >\n          <Card.Header>{element.title}</Card.Header>\n          <Card.Body>\n            <Card.Text>Website: {element.website}</Card.Text>\n            <Card.Text>{element.description}</Card.Text>\n            <Card.Text>Username: {element.username}</Card.Text>\n            <Card.Text>Password: {element.password}</Card.Text>\n          </Card.Body>\n        </Card>\n\n        <Button className=\"userActionButton\" type=\"button\" onClick={(event) => {event.preventDefault();deleteCredential(element.id)}}>\n          Delete\n        </Button>\n\n      </div>);\n    }\n  }\n\n  DisplayCredentials(props) {\n    const credentials = props.credentials;\n    const fclick = props.onclick;\n    const listItems = credentials.map((cred) =>\n    <a key={cred.id} className=\"credCard\" onClick={fclick.bind(this,cred.id)} style={{ cursor: \"pointer\" }}>\n      <Card border=\"primary\" bg=\"light\" >\n        <Card.Header>{cred.title}</Card.Header>\n        <Card.Body>\n          <Card.Text>{cred.website}</Card.Text>\n        </Card.Body>\n      </Card>\n    </a>\n    );\n    return (\n      <div className=\"credCardDiv\">{listItems}</div>\n    );\n  }\n  \n  render() {\n    return (\n    <div className=\"container-fluid\">\n      <div id=\"userAction\" > \n        <this.addCredential />\n        <this.LogoutButton />\n      </div>\n      <div id=\"first-half\">\n        <Card className=\"credList\">\n          <Card.Header>List of credentials</Card.Header>\n          <Card.Body>\n            <this.DisplayCredentials credentials={this.state.credentials} onclick={this.cardClicked} />\n          </Card.Body>\n        </Card>\n      </div>\n      <div id=\"second-half\"> \n        <Card className=\"credSelected\">\n          <Card.Header>Selected</Card.Header>\n          <Card.Body>\n            <this.DisplaySelected selected={this.state.selected}></this.DisplaySelected>\n          </Card.Body>\n        </Card>\n      </div>\n    </div>\n    );\n  }\n}","import React, { Component } from 'react';\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      username : '',\n      password: '',\n      message: ''\n    };\n  }\n\n  handleInputChange = (event) => {\n    const { value, name } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  onSubmit = (event) => {\n    event.preventDefault();\n    fetch('/login', {\n      method: 'POST',\n      body: JSON.stringify(this.state),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(res => {\n      console.log(res);\n      if (res.status === 200) {\n        this.props.history.push('/');\n      } else {\n        this.setState({message: 'Login failed'});\n      }\n    })\n    .catch(err => {\n      console.error(err);\n      alert('Error logging in please try again');\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <h1>Login</h1>\n        <form onSubmit={this.onSubmit}>\n          { this.state.message !== '' && <h3 className=\"error\"> { this.state.message } </h3> }\n          <label  htmlFor=\"username\"><b>Username</b></label>\n          <input\n            type=\"username\"\n            name=\"username\"\n            placeholder=\"Username\"\n            value={this.state.username}\n            onChange={this.handleInputChange}\n            required\n          />\n          <label htmlFor=\"password\"><b>Password</b></label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Enter password\"\n            value={this.state.password}\n            onChange={this.handleInputChange}\n            required\n          />\n          <input id=\"loginButton\" type=\"submit\" value=\"Submit\"/>\n        </form>\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport Button from \"react-bootstrap/Button\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default class Add extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      title : '',\n      description: '',\n      website: '',\n      username: '',\n      password: ''\n    };\n  }\n\n  handleInputChange = (event) => {\n    const { value, name } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  BackButton(){\n    const history = useHistory();\n\n    function backToHome() {\n      history.push(\"/\");\n    }\n    \n    return (\n        <Button id=\"backButton\" type=\"button\" onClick={backToHome}>\n            Back\n        </Button>\n    )\n  }\n\n  onSubmit = (event) => {\n    event.preventDefault();\n    fetch('/credentials', {\n      method: 'POST',\n      body: JSON.stringify(this.state),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(res => {\n      console.log(res);\n      if (res.status === 200) {\n        this.props.history.push('/');\n      } else {\n        this.setState({message: 'Error on creating credentials'});\n      }\n    })\n    .catch(err => {\n      console.error(err);\n      alert('Error on creating credentials');\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <h1>Add new credential</h1>\n        <this.BackButton />\n        <form onSubmit={this.onSubmit}>\n          { this.state.message !== '' && <h3 className=\"error\"> { this.state.message } </h3> }\n          <label htmlFor=\"title\"><b>Title</b></label>\n          <input\n            type=\"text\"\n            name=\"title\"\n            placeholder=\"Title\"\n            value={this.state.title}\n            onChange={this.handleInputChange}\n            required\n          />\n          <label htmlFor=\"description\"><b>Title</b></label>\n          <input\n            type=\"text\"\n            name=\"description\"\n            placeholder=\"Description\"\n            value={this.state.description}\n            onChange={this.handleInputChange}\n          />\n          <label htmlFor=\"website\"><b>Website</b></label>\n          <input\n            type=\"text\"\n            name=\"website\"\n            placeholder=\"Website\"\n            value={this.state.website}\n            onChange={this.handleInputChange}\n          />\n          <label htmlFor=\"username\"><b>Username</b></label>\n          <input\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"Username\"\n            value={this.state.username}\n            onChange={this.handleInputChange}\n          />\n          <label htmlFor=\"password\"><b>Password</b></label>\n          <input\n            type=\"text\"\n            name=\"password\"\n            placeholder=\"Enter password\"\n            value={this.state.password}\n            onChange={this.handleInputChange}\n          />\n          <input id=\"loginButton\" type=\"submit\" value=\"Create\"/>\n        </form>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport withAuth from './withAuth';\nimport Home from './Home';\nimport Login from './Login';\nimport Add from './Add';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nfunction App() {\n  return (\n    <div>\n      <BrowserRouter>\n        <h1 id=\"titleApp\">PASSMAN</h1>\n        <div id=\"mainBody\">\n          <Switch>\n            <Route path=\"/\" exact component={withAuth(Home)} />\n            <Route path=\"/add-credential\" exact component={withAuth(Add)} />\n            <Route path=\"/login\" component={Login} />\n          </Switch>\n        </div>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}